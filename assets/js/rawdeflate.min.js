var free_queue,qhead,qtail,initflag,outcnt,outoff,complete,cwindow,d_buf,l_buf,prev,bi_buf,bi_valid,block_start,ins_h,hash_head,prev_match,match_available,match_length,prev_length,strstart,match_start,eofile,lookahead,max_chain_length,max_lazy_match,compr_level,good_match,nice_match,dyn_ltree,dyn_dtree,static_ltree,static_dtree,bl_tree,l_desc,d_desc,bl_desc,bl_count,heap,heap_len,heap_max,depth,length_code,dist_code,base_length,base_dist,flag_buf,last_lit,last_dist,last_flags,flags,flag_bit,opt_len,static_len,deflate_data,deflate_pos,WSIZE=32768,STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,DEFAULT_LEVEL=6,FULL_SEARCH=!1,INBUFSIZ=32768,OUTBUFSIZ=8192,cwindow_size=2*WSIZE,MIN_MATCH=3,MAX_MATCH=258,BITS=16,LIT_BUFSIZE=8192,HASH_BITS=15,DIST_BUFSIZE=LIT_BUFSIZE,HASH_SIZE=1<<HASH_BITS,HASH_MASK=HASH_SIZE-1,WMASK=WSIZE-1,NIL=0,TOO_FAR=4096,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,MAX_DIST=WSIZE-MIN_LOOKAHEAD,SMALLEST=1,MAX_BITS=15,MAX_BL_BITS=7,LENGTH_CODES=29,LITERALS=256,END_BLOCK=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,HEAP_SIZE=2*L_CODES+1,H_SHIFT=parseInt((HASH_BITS+MIN_MATCH-1)/MIN_MATCH,10),outbuf=null;LIT_BUFSIZE>INBUFSIZ,WSIZE<<1>1<<BITS,HASH_BITS>BITS-1,258!=MAX_MATCH;function DeflateCT(){this.fc=0,this.dl=0}function DeflateTreeDesc(){this.dyn_tree=null,this.static_tree=null,this.extra_bits=null,this.extra_base=0,this.elems=0,this.max_length=0,this.max_code=0}function DeflateConfiguration(e,a,b,c){this.good_length=e,this.max_lazy=a,this.nice_length=b,this.max_chain=c}function DeflateBuffer(){this.next=null,this.len=0,this.ptr=[],this.off=0}var extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],configuration_table=[new DeflateConfiguration(0,0,0,0),new DeflateConfiguration(4,4,8,4),new DeflateConfiguration(4,5,16,8),new DeflateConfiguration(4,6,32,32),new DeflateConfiguration(4,4,16,16),new DeflateConfiguration(8,16,32,32),new DeflateConfiguration(8,16,128,128),new DeflateConfiguration(8,32,128,256),new DeflateConfiguration(32,128,258,1024),new DeflateConfiguration(32,258,258,4096)];function deflate_start(a){var b;if(a?1>a?a=1:9<a&&(a=9):a=DEFAULT_LEVEL,compr_level=a,initflag=!1,eofile=!1,null==outbuf){for(free_queue=qhead=qtail=null,outbuf=[],cwindow=[],d_buf=[],l_buf=[],prev=[],dyn_ltree=[],b=0;b<HEAP_SIZE;b++)dyn_ltree[b]=new DeflateCT;for(dyn_dtree=[],b=0;b<2*D_CODES+1;b++)dyn_dtree[b]=new DeflateCT;for(static_ltree=[],b=0;b<L_CODES+2;b++)static_ltree[b]=new DeflateCT;for(static_dtree=[],b=0;b<D_CODES;b++)static_dtree[b]=new DeflateCT;for(bl_tree=[],b=0;b<2*BL_CODES+1;b++)bl_tree[b]=new DeflateCT;l_desc=new DeflateTreeDesc,d_desc=new DeflateTreeDesc,bl_desc=new DeflateTreeDesc,bl_count=[],heap=[],depth=[],length_code=[],dist_code=[],base_length=[],base_dist=[],flag_buf=[]}}function deflate_end(){free_queue=qhead=qtail=null,outbuf=null,cwindow=null,d_buf=null,l_buf=null,prev=null,dyn_ltree=null,dyn_dtree=null,static_ltree=null,static_dtree=null,bl_tree=null,l_desc=null,d_desc=null,bl_desc=null,bl_count=null,heap=null,depth=null,length_code=null,dist_code=null,base_length=null,base_dist=null,flag_buf=null}function reuse_queue(a){a.next=free_queue,free_queue=a}function new_queue(){var a;return null===free_queue?a=new DeflateBuffer:(a=free_queue,free_queue=free_queue.next),a.next=null,a.len=a.off=0,a}function head1(a){return prev[WSIZE+a]}function head2(a,b){return prev[WSIZE+a]=b}function put_byte(a){outbuf[outoff+outcnt++]=a,outoff+outcnt===OUTBUFSIZ&&qoutbuf()}function put_short(a){a&=65535,outoff+outcnt<OUTBUFSIZ-2?(outbuf[outoff+outcnt++]=255&a,outbuf[outoff+outcnt++]=a>>>8):(put_byte(255&a),put_byte(a>>>8))}function INSERT_STRING(){ins_h=(ins_h<<H_SHIFT^255&cwindow[strstart+MIN_MATCH-1])&HASH_MASK,hash_head=head1(ins_h),prev[strstart&WMASK]=hash_head,head2(ins_h,strstart)}function SEND_CODE(a,b){send_bits(b[a].fc,b[a].dl)}function D_CODE(a){return 255&(256>a?dist_code[a]:dist_code[256+(a>>7)])}function SMALLER(a,b,c){return a[b].fc<a[c].fc||a[b].fc===a[c].fc&&depth[b]<=depth[c]}function read_buff(a,b,c){var d;for(d=0;d<c&&deflate_pos<deflate_data.length;d++)a[b+d]=255&deflate_data[deflate_pos++];return d}function lm_init(){var a;for(a=0;a<HASH_SIZE;a++)prev[WSIZE+a]=0;if(max_lazy_match=configuration_table[compr_level].max_lazy,good_match=configuration_table[compr_level].good_length,nice_match=configuration_table[compr_level].nice_length,max_chain_length=configuration_table[compr_level].max_chain,strstart=0,block_start=0,lookahead=read_buff(cwindow,0,2*WSIZE),0>=lookahead)return eofile=!0,void(lookahead=0);for(eofile=!1;lookahead<MIN_LOOKAHEAD&&!eofile;)fill_cwindow();for(ins_h=0,a=0;a<MIN_MATCH-1;a++)ins_h=(ins_h<<H_SHIFT^255&cwindow[a])&HASH_MASK}function longest_match(a){var b,c,d,e,f=max_chain_length,g=strstart,h=prev_length,i=strstart>MAX_DIST?strstart-MAX_DIST:NIL,j=strstart+MAX_MATCH,k=cwindow[g+h-1],l=cwindow[g+h];prev_length>=good_match&&(f>>=2);do{if(b=a,cwindow[b+h]!==l||cwindow[b+h-1]!==k||cwindow[b]!==cwindow[g]||cwindow[++b]!==cwindow[g+1])continue;for(g+=2,b++;g<j;){for(e=!1,d=0;8>d;d+=1)if(g+=1,b+=1,cwindow[g]!==cwindow[b]){e=!0;break}if(e)break}if(c=MAX_MATCH-(j-g),g=j-MAX_MATCH,c>h){if(match_start=a,h=c,c>=nice_match)break;k=cwindow[g+h-1],l=cwindow[g+h]}}while((a=prev[a&WMASK])>i&&0!=--f);return h}function fill_cwindow(){var a,b,c=cwindow_size-lookahead-strstart;if(-1==c)c--;else if(strstart>=WSIZE+MAX_DIST){for(a=0;a<WSIZE;a++)cwindow[a]=cwindow[a+WSIZE];for(match_start-=WSIZE,strstart-=WSIZE,block_start-=WSIZE,a=0;a<HASH_SIZE;a++)b=head1(a),head2(a,b>=WSIZE?b-WSIZE:NIL);for(a=0;a<WSIZE;a++)b=prev[a],prev[a]=b>=WSIZE?b-WSIZE:NIL;c+=WSIZE}eofile||(a=read_buff(cwindow,strstart+lookahead,c),0>=a?eofile=!0:lookahead+=a)}function deflate_fast(){for(;0!==lookahead&&null===qhead;){var a;if(INSERT_STRING(),hash_head!==NIL&&strstart-hash_head<=MAX_DIST&&(match_length=longest_match(hash_head),match_length>lookahead&&(match_length=lookahead)),!(match_length>=MIN_MATCH))a=ct_tally(0,255&cwindow[strstart]),lookahead--,strstart++;else if(a=ct_tally(strstart-match_start,match_length-MIN_MATCH),lookahead-=match_length,match_length<=max_lazy_match){match_length--;do strstart++,INSERT_STRING();while(0!=--match_length);strstart++}else strstart+=match_length,match_length=0,ins_h=255&cwindow[strstart],ins_h=(ins_h<<H_SHIFT^255&cwindow[strstart+1])&HASH_MASK;for(a&&(flush_block(0),block_start=strstart);lookahead<MIN_LOOKAHEAD&&!eofile;)fill_cwindow()}}function deflate_better(){for(;0!==lookahead&&null===qhead;){if(INSERT_STRING(),prev_length=match_length,prev_match=match_start,match_length=MIN_MATCH-1,hash_head!==NIL&&prev_length<max_lazy_match&&strstart-hash_head<=MAX_DIST&&(match_length=longest_match(hash_head),match_length>lookahead&&(match_length=lookahead),match_length===MIN_MATCH&&strstart-match_start>TOO_FAR&&match_length--),prev_length>=MIN_MATCH&&match_length<=prev_length){var a;a=ct_tally(strstart-1-prev_match,prev_length-MIN_MATCH),lookahead-=prev_length-1,prev_length-=2;do strstart++,INSERT_STRING();while(0!=--prev_length);match_available=!1,match_length=MIN_MATCH-1,strstart++,a&&(flush_block(0),block_start=strstart)}else match_available?(ct_tally(0,255&cwindow[strstart-1])&&(flush_block(0),block_start=strstart),strstart++,lookahead--):(match_available=!0,strstart++,lookahead--);for(;lookahead<MIN_LOOKAHEAD&&!eofile;)fill_cwindow()}}function init_deflate(){eofile||(bi_buf=0,bi_valid=0,ct_init(),lm_init(),qhead=null,outcnt=0,outoff=0,3>=compr_level?(prev_length=MIN_MATCH-1,match_length=0):(match_length=MIN_MATCH-1,match_available=!1),complete=!1)}function deflate_internal(a,b,c){var d;return!initflag&&(init_deflate(),initflag=!0,0===lookahead)?(complete=!0,0):(d=qcopy(a,b,c),d===c)?c:complete?d:(3>=compr_level?deflate_fast():deflate_better(),0===lookahead&&(match_available&&ct_tally(0,255&cwindow[strstart-1]),flush_block(1),complete=!0),d+qcopy(a,d+b,c-d))}function qcopy(a,b,c){var d,e,f;for(d=0;null!==qhead&&d<c;){for(e=c-d,e>qhead.len&&(e=qhead.len),f=0;f<e;f++)a[b+d+f]=qhead.ptr[qhead.off+f];if(qhead.off+=e,qhead.len-=e,d+=e,0===qhead.len){var g;g=qhead,qhead=qhead.next,reuse_queue(g)}}if(d===c)return d;if(outoff<outcnt){for(e=c-d,e>outcnt-outoff&&(e=outcnt-outoff),f=0;f<e;f++)a[b+d+f]=outbuf[outoff+f];outoff+=e,d+=e,outcnt===outoff&&(outcnt=outoff=0)}return d}function ct_init(){var a,b,c,d,e;if(0===static_dtree[0].dl){for(l_desc.dyn_tree=dyn_ltree,l_desc.static_tree=static_ltree,l_desc.extra_bits=extra_lbits,l_desc.extra_base=LITERALS+1,l_desc.elems=L_CODES,l_desc.max_length=MAX_BITS,l_desc.max_code=0,d_desc.dyn_tree=dyn_dtree,d_desc.static_tree=static_dtree,d_desc.extra_bits=extra_dbits,d_desc.extra_base=0,d_desc.elems=D_CODES,d_desc.max_length=MAX_BITS,d_desc.max_code=0,bl_desc.dyn_tree=bl_tree,bl_desc.static_tree=null,bl_desc.extra_bits=extra_blbits,bl_desc.extra_base=0,bl_desc.elems=BL_CODES,bl_desc.max_length=MAX_BL_BITS,bl_desc.max_code=0,c=0,d=0;d<LENGTH_CODES-1;d++)for(base_length[d]=c,a=0;a<1<<extra_lbits[d];a++)length_code[c++]=d;for(length_code[c-1]=d,e=0,d=0;16>d;d++)for(base_dist[d]=e,a=0;a<1<<extra_dbits[d];a++)dist_code[e++]=d;for(e>>=7;d<D_CODES;d++)for(base_dist[d]=e<<7,a=0;a<1<<extra_dbits[d]-7;a++)dist_code[256+e++]=d;for(b=0;b<=MAX_BITS;b++)bl_count[b]=0;for(a=0;143>=a;)static_ltree[a++].dl=8,bl_count[8]++;for(;255>=a;)static_ltree[a++].dl=9,bl_count[9]++;for(;279>=a;)static_ltree[a++].dl=7,bl_count[7]++;for(;287>=a;)static_ltree[a++].dl=8,bl_count[8]++;for(gen_codes(static_ltree,L_CODES+1),a=0;a<D_CODES;a++)static_dtree[a].dl=5,static_dtree[a].fc=bi_reverse(a,5);init_block()}}function init_block(){var a;for(a=0;a<L_CODES;a++)dyn_ltree[a].fc=0;for(a=0;a<D_CODES;a++)dyn_dtree[a].fc=0;for(a=0;a<BL_CODES;a++)bl_tree[a].fc=0;dyn_ltree[END_BLOCK].fc=1,opt_len=static_len=0,last_lit=last_dist=last_flags=0,flags=0,flag_bit=1}function pqdownheap(a,b){for(var c=heap[b],d=b<<1;d<=heap_len&&(d<heap_len&&SMALLER(a,heap[d+1],heap[d])&&d++,!SMALLER(a,c,heap[d]));)heap[b]=heap[d],b=d,d<<=1;heap[b]=c}function gen_bitlen(a){var b,c,d,e,g,h,f=a.dyn_tree,i=a.extra_bits,j=a.extra_base,k=a.max_code,l=a.max_length,m=a.static_tree,n=0;for(e=0;e<=MAX_BITS;e++)bl_count[e]=0;for(f[heap[heap_max]].dl=0,b=heap_max+1;b<HEAP_SIZE;b++)(c=heap[b],e=f[f[c].dl].dl+1,e>l&&(e=l,n++),f[c].dl=e,!(c>k))&&(bl_count[e]++,g=0,c>=j&&(g=i[c-j]),h=f[c].fc,opt_len+=h*(e+g),null!==m&&(static_len+=h*(m[c].dl+g)));if(0!=n){do{for(e=l-1;0===bl_count[e];)e--;bl_count[e]--,bl_count[e+1]+=2,bl_count[l]--,n-=2}while(0<n);for(e=l;0!==e;e--)for(c=bl_count[e];0!==c;)(d=heap[--b],!(d>k))&&(f[d].dl!==e&&(opt_len+=(e-f[d].dl)*f[d].fc,f[d].fc=e),c--)}}function gen_codes(a,b){var c,d,e=[],f=0;for(c=1;c<=MAX_BITS;c++)f=f+bl_count[c-1]<<1,e[c]=f;for(d=0;d<=b;d++){var g=a[d].dl;0!==g&&(a[d].fc=bi_reverse(e[g]++,g))}}function build_tree(a){var b,c,d=a.dyn_tree,e=a.static_tree,f=a.elems,g=-1,h=f;for(heap_len=0,heap_max=HEAP_SIZE,b=0;b<f;b++)0===d[b].fc?d[b].dl=0:(heap[++heap_len]=g=b,depth[b]=0);for(;2>heap_len;){var i=heap[++heap_len]=2>g?++g:0;d[i].fc=1,depth[i]=0,opt_len--,null!==e&&(static_len-=e[i].dl)}for(a.max_code=g,b=heap_len>>1;1<=b;b--)pqdownheap(d,b);do b=heap[SMALLEST],heap[SMALLEST]=heap[heap_len--],pqdownheap(d,SMALLEST),c=heap[SMALLEST],heap[--heap_max]=b,heap[--heap_max]=c,d[h].fc=d[b].fc+d[c].fc,depth[h]=depth[b]>depth[c]+1?depth[b]:depth[c]+1,d[b].dl=d[c].dl=h,heap[SMALLEST]=h++,pqdownheap(d,SMALLEST);while(2<=heap_len);heap[--heap_max]=heap[SMALLEST],gen_bitlen(a),gen_codes(d,g)}function scan_tree(a,b){var c,d,e=-1,f=a[0].dl,g=0,h=7,i=4;for(0===f&&(h=138,i=3),a[b+1].dl=65535,c=0;c<=b;c++){if(d=f,f=a[c+1].dl,++g<h&&d===f)continue;else g<i?bl_tree[d].fc+=g:0===d?10>=g?bl_tree[REPZ_3_10].fc++:bl_tree[REPZ_11_138].fc++:(d!==e&&bl_tree[d].fc++,bl_tree[REP_3_6].fc++);g=0,e=d,0===f?(h=138,i=3):d===f?(h=6,i=3):(h=7,i=4)}}function send_tree(a,b){var c,d,e=-1,f=a[0].dl,g=0,h=7,i=4;for(0===f&&(h=138,i=3),c=0;c<=b;c++){if(d=f,f=a[c+1].dl,++g<h&&d===f)continue;else if(g<i)do SEND_CODE(d,bl_tree);while(0!=--g);else 0===d?10>=g?(SEND_CODE(REPZ_3_10,bl_tree),send_bits(g-3,3)):(SEND_CODE(REPZ_11_138,bl_tree),send_bits(g-11,7)):(d!==e&&(SEND_CODE(d,bl_tree),g--),SEND_CODE(REP_3_6,bl_tree),send_bits(g-3,2));g=0,e=d,0===f?(h=138,i=3):d===f?(h=6,i=3):(h=7,i=4)}}function build_bl_tree(){var a;for(scan_tree(dyn_ltree,l_desc.max_code),scan_tree(dyn_dtree,d_desc.max_code),build_tree(bl_desc),a=BL_CODES-1;3<=a&&0===bl_tree[bl_order[a]].dl;a--);return opt_len+=3*(a+1)+5+5+4,a}function send_all_trees(a,b,c){var d;for(send_bits(a-257,5),send_bits(b-1,5),send_bits(c-4,4),d=0;d<c;d++)send_bits(bl_tree[bl_order[d]].dl,3);send_tree(dyn_ltree,a-1),send_tree(dyn_dtree,b-1)}function flush_block(a){var b,c,d,e,f;if(e=strstart-block_start,flag_buf[last_flags]=flags,build_tree(l_desc),build_tree(d_desc),d=build_bl_tree(),b=opt_len+3+7>>3,c=static_len+3+7>>3,c<=b&&(b=c),e+4<=b&&0<=block_start)for(send_bits((STORED_BLOCK<<1)+a,3),bi_windup(),put_short(e),put_short(~e),f=0;f<e;f++)put_byte(cwindow[block_start+f]);else c===b?(send_bits((STATIC_TREES<<1)+a,3),compress_block(static_ltree,static_dtree)):(send_bits((DYN_TREES<<1)+a,3),send_all_trees(l_desc.max_code+1,d_desc.max_code+1,d+1),compress_block(dyn_ltree,dyn_dtree));init_block(),0!==a&&bi_windup()}function ct_tally(a,b){if(l_buf[last_lit++]=b,0===a?dyn_ltree[b].fc++:(a--,dyn_ltree[length_code[b]+LITERALS+1].fc++,dyn_dtree[D_CODE(a)].fc++,d_buf[last_dist++]=a,flags|=flag_bit),flag_bit<<=1,0==(7&last_lit)&&(flag_buf[last_flags++]=flags,flags=0,flag_bit=1),2<compr_level&&0==(4095&last_lit)){var c,d=8*last_lit,e=strstart-block_start;for(c=0;c<D_CODES;c++)d+=dyn_dtree[c].fc*(5+extra_dbits[c]);if(d>>=3,last_dist<parseInt(last_lit/2,10)&&d<parseInt(e/2,10))return!0}return last_lit===LIT_BUFSIZE-1||last_dist===DIST_BUFSIZE}function compress_block(a,b){var c,d,e,f,g=0,h=0,i=0,j=0;if(0!==last_lit)do 0==(7&g)&&(j=flag_buf[i++]),d=255&l_buf[g++],0==(1&j)?SEND_CODE(d,a):(e=length_code[d],SEND_CODE(e+LITERALS+1,a),f=extra_lbits[e],0!==f&&(d-=base_length[e],send_bits(d,f)),c=d_buf[h++],e=D_CODE(c),SEND_CODE(e,b),f=extra_dbits[e],0!==f&&(c-=base_dist[e],send_bits(c,f))),j>>=1;while(g<last_lit);SEND_CODE(END_BLOCK,a)}var Buf_size=16;function send_bits(a,b){bi_valid>Buf_size-b?(bi_buf|=a<<bi_valid,put_short(bi_buf),bi_buf=a>>Buf_size-bi_valid,bi_valid+=b-Buf_size):(bi_buf|=a<<bi_valid,bi_valid+=b)}function bi_reverse(a,b){var c=0;do c|=1&a,a>>=1,c<<=1;while(0<--b);return c>>1}function bi_windup(){8<bi_valid?put_short(bi_buf):0<bi_valid&&put_byte(bi_buf),bi_buf=0,bi_valid=0}function qoutbuf(){var a,b;if(0!==outcnt){for(a=new_queue(),null===qhead?qhead=qtail=a:qtail=qtail.next=a,a.len=outcnt-outoff,b=0;b<a.len;b++)a.ptr[b]=outbuf[outoff+b];outcnt=outoff=0}}function deflate(a,b){var c,d;deflate_data=a,deflate_pos=0,"undefined"==typeof b&&(b=DEFAULT_LEVEL),deflate_start(b),d=[];do c=deflate_internal(d,d.length,1024);while(0<c);return deflate_data=null,d}